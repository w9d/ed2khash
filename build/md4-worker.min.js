/*
 Yi-Cyuan Chen 2015-2027
 @license MIT
*/
var g="0123456789abcdef".split(""),k=[128,32768,8388608,-2147483648],l=new ArrayBuffer(68),m=new Uint8Array(l),n=new Uint32Array(l);function p(d){d?(n[0]=n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0,this.j=n,this.u=m):(d=new ArrayBuffer(68),this.u=new Uint8Array(d),this.j=new Uint32Array(d));this.a=this.b=this.c=this.g=this.start=this.m=this.v=0;this.o=this.l=!1;this.s=!0}
function q(d,a){if(!d.o){if(a instanceof ArrayBuffer)a=new Uint8Array(a);else if(!(a instanceof Uint8Array)&&"string"===typeof a){for(var b=a.length,c=new Uint8Array(b),e=0;e<b;e++)c[e]=a.charCodeAt(e);a=c}c=0;b=a.length||0;for(var f=d.j,h=d.u;c<b;){d.l&&(d.l=!1,f[0]=f[16],f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0);for(e=d.start;c<b&&64>e;++c)h[e++]=a[c];d.v=e;d.m+=e-d.start;64<=e?(d.start=e-64,d.hash(),d.l=!0):d.start=e}return d}}
function r(d){if(!d.o){d.o=!0;var a=d.j,b=d.v;a[b>>2]|=k[b&3];56<=b&&(d.l||d.hash(),a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0);a[14]=d.m<<3;d.hash()}}
p.prototype.hash=function(){var d=this.j;if(this.s){var a=d[0]-1;a=a<<3|a>>>29;var b=(a&4023233417|~a&2562383102)+d[1]+271733878;b=b<<7|b>>>25;var c=(b&a|~b&4023233417)+d[2]-1732584194;c=c<<11|c>>>21;var e=(c&b|~c&a)+d[3]-271733879}else a=this.a,e=this.b,c=this.c,b=this.g,a+=(e&c|~e&b)+d[0],a=a<<3|a>>>29,b+=(a&e|~a&c)+d[1],b=b<<7|b>>>25,c+=(b&a|~b&e)+d[2],c=c<<11|c>>>21,e+=(c&b|~c&a)+d[3];e=e<<19|e>>>13;a+=(e&c|~e&b)+d[4];a=a<<3|a>>>29;b+=(a&e|~a&c)+d[5];b=b<<7|b>>>25;c+=(b&a|~b&e)+d[6];c=c<<11|c>>>
21;e+=(c&b|~c&a)+d[7];e=e<<19|e>>>13;a+=(e&c|~e&b)+d[8];a=a<<3|a>>>29;b+=(a&e|~a&c)+d[9];b=b<<7|b>>>25;c+=(b&a|~b&e)+d[10];c=c<<11|c>>>21;e+=(c&b|~c&a)+d[11];e=e<<19|e>>>13;a+=(e&c|~e&b)+d[12];a=a<<3|a>>>29;b+=(a&e|~a&c)+d[13];b=b<<7|b>>>25;c+=(b&a|~b&e)+d[14];c=c<<11|c>>>21;e+=(c&b|~c&a)+d[15];e=e<<19|e>>>13;var f=e&c;a+=(f|e&b|c&b)+d[0]+1518500249;a=a<<3|a>>>29;var h=a&e;b+=(h|a&c|f)+d[4]+1518500249;b=b<<5|b>>>27;f=b&a;c+=(f|b&e|h)+d[8]+1518500249;c=c<<9|c>>>23;h=c&b;e+=(h|c&a|f)+d[12]+1518500249;
e=e<<13|e>>>19;f=e&c;a+=(f|e&b|h)+d[1]+1518500249;a=a<<3|a>>>29;h=a&e;b+=(h|a&c|f)+d[5]+1518500249;b=b<<5|b>>>27;f=b&a;c+=(f|b&e|h)+d[9]+1518500249;c=c<<9|c>>>23;h=c&b;e+=(h|c&a|f)+d[13]+1518500249;e=e<<13|e>>>19;f=e&c;a+=(f|e&b|h)+d[2]+1518500249;a=a<<3|a>>>29;h=a&e;b+=(h|a&c|f)+d[6]+1518500249;b=b<<5|b>>>27;f=b&a;c+=(f|b&e|h)+d[10]+1518500249;c=c<<9|c>>>23;h=c&b;e+=(h|c&a|f)+d[14]+1518500249;e=e<<13|e>>>19;f=e&c;a+=(f|e&b|h)+d[3]+1518500249;a=a<<3|a>>>29;h=a&e;b+=(h|a&c|f)+d[7]+1518500249;b=b<<
5|b>>>27;f=b&a;c+=(f|b&e|h)+d[11]+1518500249;c=c<<9|c>>>23;e+=(c&b|c&a|f)+d[15]+1518500249;e=e<<13|e>>>19;f=e^c;a+=(f^b)+d[0]+1859775393;a=a<<3|a>>>29;b+=(f^a)+d[8]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^e)+d[4]+1859775393;c=c<<11|c>>>21;e+=(f^c)+d[12]+1859775393;e=e<<15|e>>>17;f=e^c;a+=(f^b)+d[2]+1859775393;a=a<<3|a>>>29;b+=(f^a)+d[10]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^e)+d[6]+1859775393;c=c<<11|c>>>21;e+=(f^c)+d[14]+1859775393;e=e<<15|e>>>17;f=e^c;a+=(f^b)+d[1]+1859775393;a=a<<3|a>>>29;b+=(f^a)+
d[9]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^e)+d[5]+1859775393;c=c<<11|c>>>21;e+=(f^c)+d[13]+1859775393;e=e<<15|e>>>17;f=e^c;a+=(f^b)+d[3]+1859775393;a=a<<3|a>>>29;b+=(f^a)+d[11]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^e)+d[7]+1859775393;c=c<<11|c>>>21;e+=(f^c)+d[15]+1859775393;e=e<<15|e>>>17;this.s?(this.a=a+1732584193<<0,this.b=e-271733879<<0,this.c=c-1732584194<<0,this.g=b+271733878<<0,this.s=!1):(this.a=this.a+a<<0,this.b=this.b+e<<0,this.c=this.c+c<<0,this.g=this.g+b<<0)};
p.prototype.w=function(){r(this);var d=this.a,a=this.b,b=this.c,c=this.g;return g[d>>4&15]+g[d&15]+g[d>>12&15]+g[d>>8&15]+g[d>>20&15]+g[d>>16&15]+g[d>>28&15]+g[d>>24&15]+g[a>>4&15]+g[a&15]+g[a>>12&15]+g[a>>8&15]+g[a>>20&15]+g[a>>16&15]+g[a>>28&15]+g[a>>24&15]+g[b>>4&15]+g[b&15]+g[b>>12&15]+g[b>>8&15]+g[b>>20&15]+g[b>>16&15]+g[b>>28&15]+g[b>>24&15]+g[c>>4&15]+g[c&15]+g[c>>12&15]+g[c>>8&15]+g[c>>20&15]+g[c>>16&15]+g[c>>28&15]+g[c>>24&15]};p.prototype.toString=p.prototype.w;
function t(d){r(d);var a=new ArrayBuffer(16),b=new Uint32Array(a);b[0]=d.a;b[1]=d.b;b[2]=d.c;b[3]=d.g;return a};self.onmessage=function(d){if(d.data.f){d=d.data.hl;for(var a=new p(!1),b=0,c;c=d[b];b++)q(a,c);a=t(a);postMessage({h:a},[a])}else a=d.data.d,b=t(q(new p(!0),a)),postMessage({i:d.data.i,h:b,d:a},[b,a])};

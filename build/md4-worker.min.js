/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
/*
 Yi-Cyuan Chen 2015-2027
 @license MIT
*/
var g="0123456789abcdef".split(""),k=[128,32768,8388608,-2147483648],l=new ArrayBuffer(68),m=new Uint8Array(l),n=new Uint32Array(l);function p(e){e?(n[0]=n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0,this.j=n,this.u=m):(e=new ArrayBuffer(68),this.u=new Uint8Array(e),this.j=new Uint32Array(e));this.a=this.b=this.c=this.g=this.start=this.m=this.v=0;this.o=this.l=!1;this.s=!0}
p.prototype.update=function(e){if(!this.o){if(e instanceof ArrayBuffer)e=new Uint8Array(e);else if(!(e instanceof Uint8Array)&&"string"===typeof e){for(var a=e.length,b=new Uint8Array(a),c=0;c<a;c++)b[c]=e.charCodeAt(c);e=b}b=0;a=e.length||0;for(var d=this.j,f=this.u;b<a;){this.l&&(this.l=!1,d[0]=d[16],d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0);for(c=this.start;b<a&&64>c;++b)f[c++]=e[b];this.v=c;this.m+=c-this.start;64<=c?(this.start=c-64,this.hash(),
this.l=!0):this.start=c}return this}};function q(e){if(!e.o){e.o=!0;var a=e.j,b=e.v;a[b>>2]|=k[b&3];56<=b&&(e.l||e.hash(),a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0);a[14]=e.m<<3;e.hash()}}
p.prototype.hash=function(){var e=this.j;if(this.s){var a=e[0]-1;a=a<<3|a>>>29;var b=(a&4023233417|~a&2562383102)+e[1]+271733878;b=b<<7|b>>>25;var c=(b&a|~b&4023233417)+e[2]-1732584194;c=c<<11|c>>>21;var d=(c&b|~c&a)+e[3]-271733879;d=d<<19|d>>>13}else a=this.a,d=this.b,c=this.c,b=this.g,a+=(d&c|~d&b)+e[0],a=a<<3|a>>>29,b+=(a&d|~a&c)+e[1],b=b<<7|b>>>25,c+=(b&a|~b&d)+e[2],c=c<<11|c>>>21,d+=(c&b|~c&a)+e[3],d=d<<19|d>>>13;a+=(d&c|~d&b)+e[4];a=a<<3|a>>>29;b+=(a&d|~a&c)+e[5];b=b<<7|b>>>25;c+=(b&a|~b&d)+
e[6];c=c<<11|c>>>21;d+=(c&b|~c&a)+e[7];d=d<<19|d>>>13;a+=(d&c|~d&b)+e[8];a=a<<3|a>>>29;b+=(a&d|~a&c)+e[9];b=b<<7|b>>>25;c+=(b&a|~b&d)+e[10];c=c<<11|c>>>21;d+=(c&b|~c&a)+e[11];d=d<<19|d>>>13;a+=(d&c|~d&b)+e[12];a=a<<3|a>>>29;b+=(a&d|~a&c)+e[13];b=b<<7|b>>>25;c+=(b&a|~b&d)+e[14];c=c<<11|c>>>21;d+=(c&b|~c&a)+e[15];d=d<<19|d>>>13;var f=d&c;a+=(f|d&b|c&b)+e[0]+1518500249;a=a<<3|a>>>29;var h=a&d;b+=(h|a&c|f)+e[4]+1518500249;b=b<<5|b>>>27;f=b&a;c+=(f|b&d|h)+e[8]+1518500249;c=c<<9|c>>>23;h=c&b;d+=(h|c&a|
f)+e[12]+1518500249;d=d<<13|d>>>19;f=d&c;a+=(f|d&b|h)+e[1]+1518500249;a=a<<3|a>>>29;h=a&d;b+=(h|a&c|f)+e[5]+1518500249;b=b<<5|b>>>27;f=b&a;c+=(f|b&d|h)+e[9]+1518500249;c=c<<9|c>>>23;h=c&b;d+=(h|c&a|f)+e[13]+1518500249;d=d<<13|d>>>19;f=d&c;a+=(f|d&b|h)+e[2]+1518500249;a=a<<3|a>>>29;h=a&d;b+=(h|a&c|f)+e[6]+1518500249;b=b<<5|b>>>27;f=b&a;c+=(f|b&d|h)+e[10]+1518500249;c=c<<9|c>>>23;h=c&b;d+=(h|c&a|f)+e[14]+1518500249;d=d<<13|d>>>19;f=d&c;a+=(f|d&b|h)+e[3]+1518500249;a=a<<3|a>>>29;h=a&d;b+=(h|a&c|f)+e[7]+
1518500249;b=b<<5|b>>>27;f=b&a;c+=(f|b&d|h)+e[11]+1518500249;c=c<<9|c>>>23;d+=(c&b|c&a|f)+e[15]+1518500249;d=d<<13|d>>>19;f=d^c;a+=(f^b)+e[0]+1859775393;a=a<<3|a>>>29;b+=(f^a)+e[8]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^d)+e[4]+1859775393;c=c<<11|c>>>21;d+=(f^c)+e[12]+1859775393;d=d<<15|d>>>17;f=d^c;a+=(f^b)+e[2]+1859775393;a=a<<3|a>>>29;b+=(f^a)+e[10]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^d)+e[6]+1859775393;c=c<<11|c>>>21;d+=(f^c)+e[14]+1859775393;d=d<<15|d>>>17;f=d^c;a+=(f^b)+e[1]+1859775393;a=a<<
3|a>>>29;b+=(f^a)+e[9]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^d)+e[5]+1859775393;c=c<<11|c>>>21;d+=(f^c)+e[13]+1859775393;d=d<<15|d>>>17;f=d^c;a+=(f^b)+e[3]+1859775393;a=a<<3|a>>>29;b+=(f^a)+e[11]+1859775393;b=b<<9|b>>>23;f=b^a;c+=(f^d)+e[7]+1859775393;c=c<<11|c>>>21;d+=(f^c)+e[15]+1859775393;d=d<<15|d>>>17;this.s?(this.a=a+1732584193<<0,this.b=d-271733879<<0,this.c=c-1732584194<<0,this.g=b+271733878<<0,this.s=!1):(this.a=this.a+a<<0,this.b=this.b+d<<0,this.c=this.c+c<<0,this.g=this.g+b<<0)};
p.prototype.A=function(){q(this);var e=this.a,a=this.b,b=this.c,c=this.g;return g[e>>4&15]+g[e&15]+g[e>>12&15]+g[e>>8&15]+g[e>>20&15]+g[e>>16&15]+g[e>>28&15]+g[e>>24&15]+g[a>>4&15]+g[a&15]+g[a>>12&15]+g[a>>8&15]+g[a>>20&15]+g[a>>16&15]+g[a>>28&15]+g[a>>24&15]+g[b>>4&15]+g[b&15]+g[b>>12&15]+g[b>>8&15]+g[b>>20&15]+g[b>>16&15]+g[b>>28&15]+g[b>>24&15]+g[c>>4&15]+g[c&15]+g[c>>12&15]+g[c>>8&15]+g[c>>20&15]+g[c>>16&15]+g[c>>28&15]+g[c>>24&15]};p.prototype.toString=p.prototype.A;
p.prototype.arrayBuffer=function(){q(this);var e=new ArrayBuffer(16),a=new Uint32Array(e);a[0]=this.a;a[1]=this.b;a[2]=this.c;a[3]=this.g;return e};self.onmessage=function(e){if(e.data.f){e=e.data.hl;for(var a=new p(!1),b=0,c;c=e[b];b++)a.update(c);a=a.arrayBuffer();postMessage({h:a},[a])}else a=e.data.d,b=(new p(!0)).update(a).arrayBuffer(),postMessage({i:e.data.i,h:b,d:a},[b,a])};

/*
 Yi-Cyuan Chen 2015-2027
 @license MIT
*/
var u=function(){function n(e){return function(c){return(new k(!0)).update(c)[e]()}}function k(e){e?(l[0]=l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0,this.j=l,this.v=v):q?(e=new ArrayBuffer(68),this.v=new Uint8Array(e),this.j=new Uint32Array(e)):this.j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.a=this.b=this.c=this.g=this.start=this.s=0;this.u=this.l=!1;this.m=!0}var m="object"===typeof window,r=m?window:{};r.C&&(m=!1);m||"object"!==typeof self||(r=self);
var q="undefined"!==typeof ArrayBuffer,h="0123456789abcdef".split(""),w=[128,32768,8388608,-2147483648],p=[0,8,16,24],t=["hex","array","digest","buffer","arrayBuffer"],l=[];if(q){m=new ArrayBuffer(68);var v=new Uint8Array(m);l=new Uint32Array(m)}k.prototype.update=function(e){if(!this.u){var c="string"!==typeof e;c&&q&&e instanceof ArrayBuffer&&(e=new Uint8Array(e));for(var a,d=0,b,g=e.length||0,f=this.j,h=this.v;d<g;){this.l&&(this.l=!1,f[0]=f[16],f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=
f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0);if(c)if(q)for(b=this.start;d<g&&64>b;++d)h[b++]=e[d];else for(b=this.start;d<g&&64>b;++d)f[b>>2]|=e[d]<<p[b++&3];else if(q)for(b=this.start;d<g&&64>b;++d)a=e.charCodeAt(d),128>a?h[b++]=a:(2048>a?h[b++]=192|a>>6:(55296>a||57344<=a?h[b++]=224|a>>12:(a=65536+((a&1023)<<10|e.charCodeAt(++d)&1023),h[b++]=240|a>>18,h[b++]=128|a>>12&63),h[b++]=128|a>>6&63),h[b++]=128|a&63);else for(b=this.start;d<g&&64>b;++d)a=e.charCodeAt(d),128>a?f[b>>2]|=a<<p[b++&3]:(2048>a?f[b>>
2]|=(192|a>>6)<<p[b++&3]:(55296>a||57344<=a?f[b>>2]|=(224|a>>12)<<p[b++&3]:(a=65536+((a&1023)<<10|e.charCodeAt(++d)&1023),f[b>>2]|=(240|a>>18)<<p[b++&3],f[b>>2]|=(128|a>>12&63)<<p[b++&3]),f[b>>2]|=(128|a>>6&63)<<p[b++&3]),f[b>>2]|=(128|a&63)<<p[b++&3]);this.B=b;this.s+=b-this.start;64<=b?(this.start=b-64,this.o(),this.l=!0):this.start=b}return this}};k.prototype.w=function(){if(!this.u){this.u=!0;var e=this.j,c=this.B;e[c>>2]|=w[c&3];56<=c&&(this.l||this.o(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=
e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0);e[14]=this.s<<3;this.o()}};k.prototype.o=function(){var e=this.j;if(this.m){var c=e[0]-1;c=c<<3|c>>>29;var a=(c&4023233417|~c&2562383102)+e[1]+271733878;a=a<<7|a>>>25;var d=(a&c|~a&4023233417)+e[2]-1732584194;d=d<<11|d>>>21;var b=(d&a|~d&c)+e[3]-271733879;b=b<<19|b>>>13}else c=this.a,b=this.b,d=this.c,a=this.g,c+=(b&d|~b&a)+e[0],c=c<<3|c>>>29,a+=(c&b|~c&d)+e[1],a=a<<7|a>>>25,d+=(a&c|~a&b)+e[2],d=d<<11|d>>>21,b+=(d&a|~d&c)+e[3],b=b<<19|b>>>
13;c+=(b&d|~b&a)+e[4];c=c<<3|c>>>29;a+=(c&b|~c&d)+e[5];a=a<<7|a>>>25;d+=(a&c|~a&b)+e[6];d=d<<11|d>>>21;b+=(d&a|~d&c)+e[7];b=b<<19|b>>>13;c+=(b&d|~b&a)+e[8];c=c<<3|c>>>29;a+=(c&b|~c&d)+e[9];a=a<<7|a>>>25;d+=(a&c|~a&b)+e[10];d=d<<11|d>>>21;b+=(d&a|~d&c)+e[11];b=b<<19|b>>>13;c+=(b&d|~b&a)+e[12];c=c<<3|c>>>29;a+=(c&b|~c&d)+e[13];a=a<<7|a>>>25;d+=(a&c|~a&b)+e[14];d=d<<11|d>>>21;b+=(d&a|~d&c)+e[15];b=b<<19|b>>>13;var g=b&d;c+=(g|b&a|d&a)+e[0]+1518500249;c=c<<3|c>>>29;var f=c&b;a+=(f|c&d|g)+e[4]+1518500249;
a=a<<5|a>>>27;g=a&c;d+=(g|a&b|f)+e[8]+1518500249;d=d<<9|d>>>23;f=d&a;b+=(f|d&c|g)+e[12]+1518500249;b=b<<13|b>>>19;g=b&d;c+=(g|b&a|f)+e[1]+1518500249;c=c<<3|c>>>29;f=c&b;a+=(f|c&d|g)+e[5]+1518500249;a=a<<5|a>>>27;g=a&c;d+=(g|a&b|f)+e[9]+1518500249;d=d<<9|d>>>23;f=d&a;b+=(f|d&c|g)+e[13]+1518500249;b=b<<13|b>>>19;g=b&d;c+=(g|b&a|f)+e[2]+1518500249;c=c<<3|c>>>29;f=c&b;a+=(f|c&d|g)+e[6]+1518500249;a=a<<5|a>>>27;g=a&c;d+=(g|a&b|f)+e[10]+1518500249;d=d<<9|d>>>23;f=d&a;b+=(f|d&c|g)+e[14]+1518500249;b=b<<
13|b>>>19;g=b&d;c+=(g|b&a|f)+e[3]+1518500249;c=c<<3|c>>>29;f=c&b;a+=(f|c&d|g)+e[7]+1518500249;a=a<<5|a>>>27;g=a&c;d+=(g|a&b|f)+e[11]+1518500249;d=d<<9|d>>>23;b+=(d&a|d&c|g)+e[15]+1518500249;b=b<<13|b>>>19;g=b^d;c+=(g^a)+e[0]+1859775393;c=c<<3|c>>>29;a+=(g^c)+e[8]+1859775393;a=a<<9|a>>>23;g=a^c;d+=(g^b)+e[4]+1859775393;d=d<<11|d>>>21;b+=(g^d)+e[12]+1859775393;b=b<<15|b>>>17;g=b^d;c+=(g^a)+e[2]+1859775393;c=c<<3|c>>>29;a+=(g^c)+e[10]+1859775393;a=a<<9|a>>>23;g=a^c;d+=(g^b)+e[6]+1859775393;d=d<<11|d>>>
21;b+=(g^d)+e[14]+1859775393;b=b<<15|b>>>17;g=b^d;c+=(g^a)+e[1]+1859775393;c=c<<3|c>>>29;a+=(g^c)+e[9]+1859775393;a=a<<9|a>>>23;g=a^c;d+=(g^b)+e[5]+1859775393;d=d<<11|d>>>21;b+=(g^d)+e[13]+1859775393;b=b<<15|b>>>17;g=b^d;c+=(g^a)+e[3]+1859775393;c=c<<3|c>>>29;a+=(g^c)+e[11]+1859775393;a=a<<9|a>>>23;g=a^c;d+=(g^b)+e[7]+1859775393;d=d<<11|d>>>21;b+=(g^d)+e[15]+1859775393;b=b<<15|b>>>17;this.m?(this.a=c+1732584193<<0,this.b=b-271733879<<0,this.c=d-1732584194<<0,this.g=a+271733878<<0,this.m=!1):(this.a=
this.a+c<<0,this.b=this.b+b<<0,this.c=this.c+d<<0,this.g=this.g+a<<0)};k.prototype.A=function(){this.w();var e=this.a,c=this.b,a=this.c,d=this.g;return h[e>>4&15]+h[e&15]+h[e>>12&15]+h[e>>8&15]+h[e>>20&15]+h[e>>16&15]+h[e>>28&15]+h[e>>24&15]+h[c>>4&15]+h[c&15]+h[c>>12&15]+h[c>>8&15]+h[c>>20&15]+h[c>>16&15]+h[c>>28&15]+h[c>>24&15]+h[a>>4&15]+h[a&15]+h[a>>12&15]+h[a>>8&15]+h[a>>20&15]+h[a>>16&15]+h[a>>28&15]+h[a>>24&15]+h[d>>4&15]+h[d&15]+h[d>>12&15]+h[d>>8&15]+h[d>>20&15]+h[d>>16&15]+h[d>>28&15]+h[d>>
24&15]};k.prototype.toString=k.prototype.A;k.prototype.arrayBuffer=function(){this.w();var e=new ArrayBuffer(16),c=new Uint32Array(e);c[0]=this.a;c[1]=this.b;c[2]=this.c;c[3]=this.g;return e};return function(){var e=n("hex");e.create=function(){return new k(void 0)};e.update=function(a){return e.create().update(a)};for(var c=0;c<t.length;++c){var a=t[c];e[a]=n(a)}return e}()}();self.onmessage=function(n){if(n.data.f){n=n.data.hl;for(var k=u.create(),m=0,r;r=n[m];m++)k.update(r);k=k.arrayBuffer();postMessage({h:k},[k])}else k=n.data.d,m=u.arrayBuffer(k),postMessage({i:n.data.i,h:m,d:k},[m,k])};
